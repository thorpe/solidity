## 설치

### 01. genesis.json 생성
```json
{
  "config": {
    "chainId": 33,
    "homesteadBlock": 0,
    "eip155Block": 0,
    "eip158Block": 0
  },
  "nonce": "0x0000000000000033",
  "timestamp": "0x0",
  "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "gasLimit": "0x8000000",
  "difficulty": "0x100",
  "mixhash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "coinbase": "0x3333333333333333333333333333333333333333",
  "alloc": {}
}
```

### 02.작업공간 할당.
```bash
mkdir /root/data_testnet
cd /root/data_testnet

vi genesis.json
```
* 위에 genesis.json 파일 Copy->Paste 만든다. 

### 03.초기파일 생성
```bash
geth --datadir /root/data_testnet init /root/data_testnet/genesis.json
```
결과
```bash
WARN [10-17|23:56:29.083] Sanitizing cache to Go's GC limits       provided=1024 updated=663
INFO [10-17|23:56:29.084] Maximum peer count                       ETH=25 LES=0 total=25
INFO [10-17|23:56:29.085] Allocated cache and file handles         database=/root/data_testnet/geth/chaindata cache=16 handles=16
INFO [10-17|23:56:29.092] Writing custom genesis block 
INFO [10-17|23:56:29.093] Persisted trie from memory database      nodes=0 size=0.00B time=3.875µs gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B
INFO [10-17|23:56:29.093] Successfully wrote genesis state         database=chaindata                         hash=5704d0…9bc5b0
INFO [10-17|23:56:29.094] Allocated cache and file handles         database=/root/data_testnet/geth/lightchaindata cache=16 handles=16
INFO [10-17|23:56:29.103] Writing custom genesis block 
INFO [10-17|23:56:29.103] Persisted trie from memory database      nodes=0 size=0.00B time=2.3µs   gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B
INFO [10-17|23:56:29.104] Successfully wrote genesis state         database=lightchaindata                         hash=5704d0…9bc5b0```
```

### 04.데몬실행방법

#### Geth 콘솔접속
```bash
geth --networkid 4649 --nodiscover --datadir /root/data_testnet console 2>> /root/data_testnet/geth.log
```


```bash
Welcome to the Geth JavaScript console!

instance: Geth/v1.8.17-stable-8bbe7207/linux-amd64/go1.10
 modules: admin:1.0 debug:1.0 eth:1.0 ethash:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0
 
 >
```
커맨드라인
```bash
> personal.newAccount('1111')
"0xeb2ba8948262762426977b372786dd85b65850cd"

> exit
```
* 신구 계좌번호 1개는 만들어 놓는것을 추천합니다.
* 종료는 exit 명령어를 이용합니다.

#### 백그라운드 실행
```bash
nohup geth --networkid 4649 --nodiscover --datadir /root/data_testnet  --mine --minerthreads 1 --rpc 2>> /root/data_testnet/geth.log &
```
netstat 사용시  :::8485  <- 형태의 데몬이 떠져있어야함.
```bash
#netstat

Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name     
tcp6       0      0 127.0.0.1:8485          :::*                    LISTEN      779/geth           
tcp6       0      0 :::30303                :::*                    LISTEN      779/geth 
```
* 실행전에 최소 account 1개는 만들어져있어야함.
* 콘솔 접속명령은 : geth attach rpc:http://localhost:8545

#### Json-RPC 백그라운드 실행
```bash
nohup geth --networkid 4649 --nodiscover --datadir /root/data_testnet \
 --mine --minerthreads 1 \
 --rpc --rpcaddr 0.0.0.0  --rpcport 8485  --rpccorsdomain "*" \
 --rpcapi "admin,db,eth,debug,miner,net,shh,txpool,personal,web3" 2>> /root/data_testnet/geth.log &
```

netstat 사용시  :::8485  <- 형태의 데몬이 떠져있어야함.
```bash
#netstat

Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name     
tcp6       0      0 :::8485                 :::*                    LISTEN      779/geth           
tcp6       0      0 :::30303                :::*                    LISTEN      779/geth 
```
* 콘솔 접속명령은 : geth attach rpc:http://아이피:8545


## 솔리디티 맛보기


#### 스탭
1. 코드작성
2. 컴파일
3. 배포
4. 호출

#### STPE01. 코드작성
```
pragma solidity ^0.4.0;
contract hello {
   string greeting;

   function speak() public view returns(string){
       return greeting= "Hello, World!";
   }
}
```

Hello.sol파일을 만들어 위 코드를 붙어넣는다.



#### STPE02. 컴파일
Bytecode 
```
solc --bin Hello.sol > Hello.bin
```

ABI 값 구하기
```
solc --abi Hello.sol > Hello.abi
```

Bytecode + ABI값
```
solc --combined-json abi.bin Hello.sol > Hello.json
```

```
echo "var storageOutput=`solc --optimize --combined-json abi,bin,interface Hello.sol`" > Hello.js
more Hello.js
```


```
root@node01:~/aaa# geth attach rpc:http://localhost:8485
```

```
> loadScript('Hello.js')
true
> storageOutput
{
  contracts: {
    Storage.sol:Storage: {
      abi: "[{\"constant\":false,\"inputs\":[{\"name\":\"data\",\"type\":\"uint256\"}],\"name\":\"set\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"get\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"}]",
      bin: "60606040523415600b57fe5b5b60978061001a6000396000f300606060405263ffffffff60e060020a60003504166360fe47b18114602a5780636d4ce63c14603c575bfe5b3415603157fe5b603a600435605b565b005b3415604357fe5b60496064565b60408051918252519081900360200190f35b60008190555b50565b6000545b905600a165627a7a7230582052ccd035d0e1b92d60b2dbc6ffd8a86d947fcaa3199be580f3d95fc289b0c39a0029"
    }
  },
  version: "0.4.25-develop.2017.4.24+commit.a9f42157.Linux.g++"
}
```
* solc 버전이 0.4.16버전이하는 GETH커멘드에 접속한후 컴파일을 하였으나 그 이후 버전에서는 바뀜.

#### STPE04. 배포
```
2
```

#### STPE05. 호출
```
3
```